/* ===================================================== */
/* == Liquid Glass Theme for Settings Page            == */
/* ===================================================== */

/* --- 1. Core Theme Variables --- */
:root {
    --transition-speed: 0.3s;
    /* Light Mode */
    --light-bg-image: linear-gradient(120deg, #f2f2f7, #e5e5ea);
    --light-glass-bg: rgba(255, 255, 255, 0.55);
    --light-glass-border: rgba(255, 255, 255, 0.9);
    --light-text-primary: #1d1d1f;
    --light-text-secondary: #6e6e73;
    --light-accent: #007aff;
    --light-toggle-on: #34c759;
    --light-toggle-off: rgba(120, 120, 128, 0.16);
    --light-red-color: #ff3b30;
    --light-bg-secondary: #e5e5ea;

    /* Dark Mode */
    --dark-bg-image: linear-gradient(120deg, #1c1c1e, #000000);
    --dark-glass-bg: rgba(44, 44, 46, 0.6);
    --dark-glass-border: rgba(84, 84, 88, 0.65);
    --dark-text-primary: #ffffff;
    --dark-text-secondary: #8d8d92;
    --dark-accent: #0a84ff;
    --dark-toggle-on: #30d158;
    --dark-toggle-off: rgba(120, 120, 128, 0.32);
    --dark-red-color: #ff453a;
    --dark-bg-secondary: #1c1c1e;

    /* Aliases */
    --bg-image: var(--light-bg-image);
    --glass-bg: var(--light-glass-bg);
    --glass-border: var(--light-glass-border);
    --text-color: var(--light-text-primary);
    --secondary-text: var(--light-text-secondary);
    --accent-color: var(--light-accent);
    --toggle-on: var(--light-toggle-on);
    --toggle-off: var(--light-toggle-off);
    --red-color: var(--light-red-color);
    --bg-secondary: var(--light-bg-secondary);
}

body.dark-mode {
    --bg-image: var(--dark-bg-image);
    --glass-bg: var(--dark-glass-bg);
    --glass-border: var(--dark-glass-border);
    --text-color: var(--dark-text-primary);
    --secondary-text: var(--dark-text-secondary);
    --accent-color: var(--dark-accent);
    --toggle-on: var(--dark-toggle-on);
    --toggle-off: var(--dark-toggle-off);
    --red-color: var(--dark-red-color);
    --bg-secondary: var(--dark-bg-secondary);
}

/* --- 2. General Page & Layout Styles --- */
body.settings-page {
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
    background-image: var(--bg-image);
    background-attachment: fixed;
    color: var(--text-color);
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    margin: 0;
    transition: background-image var(--transition-speed) ease-in-out;
}

.container { 
    max-width: 700px; 
    margin: 0 auto; 
    padding: 40px 20px; 
}

/* --- 3. Glass Card & Section Styles --- */
.settings-header { 
    padding: 0 10px 15px; 
    margin-bottom: 20px; 
}
.settings-header h1 { 
    font-size: 34px; 
    font-weight: 700; 
    margin: 0 0 5px 0;
}
.version { 
    font-weight: 500; 
    color: var(--secondary-text); 
}

.settings-subsection {
    background: var(--glass-bg);
    backdrop-filter: blur(25px) saturate(180%);
    -webkit-backdrop-filter: blur(25px) saturate(180%);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    margin-bottom: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    padding: 0;
    overflow: hidden;
    transition: background var(--transition-speed) ease, border var(--transition-speed) ease;
}

.subsection-title { 
    font-size: 13px; 
    font-weight: 400; 
    text-transform: uppercase; 
    color: var(--secondary-text); 
    padding: 20px 20px 8px; 
    margin: 0; 
}

.setting-card { 
    padding: 15px 20px; 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    border-top: 0.5px solid var(--glass-border); 
    transition: border var(--transition-speed) ease;
}

.subsection-title + .setting-card { 
    border-top: none; 
}

.setting-title { 
    font-size: 17px; 
    margin: 0 0 3px 0; 
    font-weight: 500;
}
.setting-description { 
    font-size: 14px; 
    color: var(--secondary-text); 
    margin: 0;
}

/* --- 4. Controls & Inputs --- */

/* Appearance Dropdown */
#appearanceModeSelect {
    background: rgba(120, 120, 128, 0.16);
    border: none;
    border-radius: 8px;
    padding: 8px 12px;
    color: var(--text-color);
    font-size: 16px;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%236E6E73%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
    background-repeat: no-repeat;
    background-position: right 12px top 50%;
    background-size: .65em auto;
    padding-right: 30px;
}
#appearanceModeSelect option { 
    background-color: var(--bg-secondary); 
    color: var(--text-color); 
}

/* Text Size Slider */
.text-size-control { text-align: right; }
#text-size-slider {
    -webkit-appearance: none;
    appearance: none;
    width: 150px;
    height: 8px;
    background: rgba(120, 120, 128, 0.16);
    border-radius: 4px;
    outline: none;
    cursor: pointer;
}
#text-size-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    background: #fff;
    border: 0.5px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
    margin-top: -9px;
}
#text-size-slider::-moz-range-thumb {
    width: 26px;
    height: 26px;
    border-radius: 50%;
    background: #fff;
    border: 0.5px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
}
.size-labels { 
    display: flex; 
    justify-content: space-between; 
    margin-top: 4px; 
    padding: 0;
    width: 150px;
}
.size-small, .size-medium, .size-large { color: var(--secondary-text); font-weight: 500; }
.size-small { font-size: 12px; } 
.size-medium { font-size: 16px; } 
.size-large { font-size: 20px; }

/* Toggle Switch */
.toggle-switch { position: relative; display: inline-block; width: 51px; height: 31px; }
.toggle-switch input { opacity: 0; width: 0; height: 0; }
.toggle-slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--toggle-off); transition: .4s; border-radius: 34px; }
.toggle-slider:before { position: absolute; content: ""; height: 27px; width: 27px; left: 2px; bottom: 2px; background-color: white; transition: 0.4s; border-radius: 50%; box-shadow: 0 1px 3px rgba(0,0,0,0.15); }
input:checked + .toggle-slider { background-color: var(--toggle-on); }
input:checked + .toggle-slider:before { transform: translateX(20px); }

/* --- 5. Special Sections & Footer --- */

/* Danger Zone */
.danger-zone .subsection-title {
    color: var(--red-color);
}
.reset-button { 
    background-color: var(--red-color); 
    color: white; 
    padding: 10px 18px; 
    border-radius: 8px; border: none; 
    cursor: pointer; 
    font-weight: 500; 
    font-size: 16px; 
    transition: background-color var(--transition-speed) ease; 
}
.reset-button:hover { filter: brightness(1.1); }

/* Back Link */
.back-link { 
    color: var(--accent-color); 
    text-decoration: none; 
    font-size: 17px; 
    padding: 8px 0; 
    margin-top: 10px; 
    display: inline-block; 
    transition: color var(--transition-speed) ease;
}

/* Footer */
footer {
    text-align: center;
    padding: 20px;
    color: var(--secondary-text);
    font-size: 14px;
}
.footer-links {
    margin-top: 10px;
    display: flex;
    gap: 20px;
    justify-content: center;
}
.footer-links a {
    color: var(--secondary-text);
    text-decoration: none;
}
.footer-links a:hover {
    color: var(--accent-color);
    text-decoration: underline;
}

/* --- 6. Accessibility & Media Queries --- */

/* Skip Link */
.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--accent-color);
    color: white;
    padding: 8px;
    z-index: 100;
    transition: top 0.3s;
}
.skip-link:focus {
    top: 0;
}

/* Responsive */
@media (max-width: 768px) {
    .setting-card { flex-direction: column; align-items: flex-start; gap: 15px; }
    .text-size-control, .appearance-mode-control { width: 100%; text-align: left; }
    #text-size-slider, .size-labels { width: 100%; max-width: 250px; }
}
